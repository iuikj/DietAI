# DietAI - æ™ºèƒ½é¥®é£Ÿå¥åº·ç®¡ç†ç³»ç»Ÿ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

DietAI æ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„æ™ºèƒ½é¥®é£Ÿå¥åº·ç®¡ç†ç³»ç»Ÿï¼Œé€šè¿‡å¤šæ¨¡æ€AIæŠ€æœ¯ä¸ºç”¨æˆ·æä¾›ä¸ªæ€§åŒ–çš„è¥å…»åˆ†æã€å¥åº·å»ºè®®å’Œé¥®é£Ÿç®¡ç†æœåŠ¡ã€‚ç³»ç»Ÿé›†æˆäº†å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€çŸ¥è¯†å›¾è°±ç­‰å…ˆè¿›æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æ‰“é€ å…¨æ–¹ä½çš„å¥åº·ç®¡ç†ä½“éªŒã€‚

### ğŸ¯ é¡¹ç›®æ„¿æ™¯

- **æ™ºèƒ½åŒ–**ï¼šåŸºäºå¤šæ¨¡æ€AIåˆ†æé£Ÿç‰©è¥å…»æˆåˆ†ï¼Œæä¾›ç²¾å‡†çš„å¥åº·è¯„ä¼°
- **ä¸ªæ€§åŒ–**ï¼šæ ¹æ®ç”¨æˆ·å¥åº·çŠ¶å†µã€ç–¾ç—…å²ã€è¿‡æ•ä¿¡æ¯ç­‰æä¾›å®šåˆ¶åŒ–å»ºè®®
- **äº¤äº’å¼**ï¼šæ”¯æŒå¯¹è¯å¼AIåŠ©æ‰‹ï¼Œæä¾›æ¸è¿›å¼æŒ‡å¯¼å’Œé•¿æœŸè®°å¿†ç®¡ç†
- **å…¨é¢æ€§**ï¼šä»é£Ÿç‰©è®°å½•åˆ°è¥å…»åˆ†æï¼Œä»å¥åº·è¯„ä¼°åˆ°ä¸ªæ€§åŒ–å»ºè®®çš„å®Œæ•´é—­ç¯

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ” æ™ºèƒ½é£Ÿç‰©è¯†åˆ«
- ğŸ“¸ **å›¾åƒè¯†åˆ«**ï¼šä¸Šä¼ é£Ÿç‰©å›¾ç‰‡ï¼ŒAIè‡ªåŠ¨è¯†åˆ«é£Ÿç‰©ç±»å‹å’Œè¥å…»æˆåˆ†
- ğŸ—£ï¸ **è¯­éŸ³è¾“å…¥**ï¼šæ”¯æŒè¯­éŸ³æè¿°é£Ÿç‰©ï¼Œæ™ºèƒ½è½¬æ¢ä¸ºè¥å…»æ•°æ®
- ğŸ“± **æ¡ç æ‰«æ**ï¼šæ‰«æé£Ÿå“åŒ…è£…æ¡ç ï¼Œå¿«é€Ÿè·å–è¥å…»ä¿¡æ¯
- âœï¸ **æ‰‹åŠ¨è¾“å…¥**ï¼šæ”¯æŒæ‰‹åŠ¨å½•å…¥é£Ÿç‰©ä¿¡æ¯

### ğŸ§  AIå¥åº·åŠ©æ‰‹
- ğŸ’¬ **å¯¹è¯å¼AI**ï¼šåŸºäºLangGraphçš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ
- ğŸ¯ **ä¸ªæ€§åŒ–å»ºè®®**ï¼šæ ¹æ®ç”¨æˆ·å¥åº·çŠ¶å†µæä¾›å®šåˆ¶åŒ–é¥®é£Ÿå»ºè®®
- ğŸ“Š **è¥å…»åˆ†æ**ï¼šè¯¦ç»†çš„è¥å…»æˆåˆ†åˆ†æå’Œå¥åº·è¯„åˆ†
- ğŸ”„ **é•¿æœŸè®°å¿†**ï¼šAIåŠ©æ‰‹å…·å¤‡é•¿æœŸè®°å¿†èƒ½åŠ›ï¼Œæä¾›è¿è´¯çš„å¥åº·æŒ‡å¯¼

### ğŸ‘¤ ç”¨æˆ·å¥åº·ç®¡ç†
- ğŸ“ **å¥åº·æ¡£æ¡ˆ**ï¼šå®Œæ•´çš„ç”¨æˆ·å¥åº·ä¿¡æ¯ç®¡ç†
- ğŸ¯ **ç›®æ ‡è®¾å®š**ï¼šæ”¯æŒå‡é‡ã€å¢é‡ã€å¢è‚Œã€å‡è„‚ç­‰å¤šç§å¥åº·ç›®æ ‡
- ğŸ¥ **ç–¾ç—…ç®¡ç†**ï¼šé’ˆå¯¹ç‰¹å®šç–¾ç—…çš„é¥®é£Ÿå»ºè®®å’Œç›‘æ§
- ğŸš« **è¿‡æ•ç®¡ç†**ï¼šè¿‡æ•åŸè¯†åˆ«å’Œé¿å…å»ºè®®

### ğŸ“ˆ æ•°æ®åˆ†æä¸æŠ¥å‘Š
- ğŸ“Š **è¥å…»ç»Ÿè®¡**ï¼šæ¯æ—¥ã€æ¯å‘¨ã€æ¯æœˆçš„è¥å…»æ‘„å…¥ç»Ÿè®¡
- ğŸ“ˆ **è¶‹åŠ¿åˆ†æ**ï¼šä½“é‡ã€å¥åº·æŒ‡æ ‡å˜åŒ–è¶‹åŠ¿
- ğŸ“‹ **å¥åº·æŠ¥å‘Š**ï¼šå®šæœŸç”Ÿæˆä¸ªäººå¥åº·åˆ†ææŠ¥å‘Š
- ğŸ† **ç›®æ ‡è¿½è¸ª**ï¼šå¥åº·ç›®æ ‡å®Œæˆæƒ…å†µç›‘æ§

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   Webç«¯     â”‚ â”‚   ç§»åŠ¨ç«¯     â”‚ â”‚   ç®¡ç†ç«¯     â”‚            â”‚
â”‚  â”‚   (Vue3)    â”‚ â”‚  (UniApp)   â”‚ â”‚  (React)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      APIç½‘å…³å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              FastAPI + Nginx                            â”‚ â”‚
â”‚  â”‚         (è·¯ç”±åˆ†å‘ã€è®¤è¯ã€é™æµã€CORS)                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ä¸šåŠ¡æœåŠ¡å±‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚  ç”¨æˆ·æœåŠ¡     â”‚ â”‚   AIåˆ†ææœåŠ¡  â”‚ â”‚   è®°å½•æœåŠ¡    â”‚           â”‚
â”‚ â”‚ (FastAPI)    â”‚ â”‚ (LangGraph)  â”‚ â”‚ (FastAPI)    â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚  å¥åº·è¯„ä¼°æœåŠ¡ â”‚ â”‚   AIåŠ©æ‰‹æœåŠ¡  â”‚ â”‚   é€šçŸ¥æœåŠ¡    â”‚           â”‚
â”‚ â”‚ (FastAPI)    â”‚ â”‚ (LangChain)  â”‚ â”‚ (FastAPI)    â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å­˜å‚¨å±‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚ PostgreSQL   â”‚ â”‚    Redis     â”‚ â”‚    MinIO     â”‚           â”‚
â”‚ â”‚  (ä¸»æ•°æ®åº“)   â”‚ â”‚   (ç¼“å­˜)     â”‚ â”‚  (æ–‡ä»¶å­˜å‚¨)   â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯
- **Webæ¡†æ¶**ï¼šFastAPI 0.110+ - é«˜æ€§èƒ½å¼‚æ­¥APIæ¡†æ¶
- **ORM**ï¼šSQLAlchemy 2.0+ - ç°ä»£Python ORM
- **æ•°æ®åº“**ï¼šPostgreSQL 15+ - ä¼ä¸šçº§å…³ç³»å‹æ•°æ®åº“
- **ç¼“å­˜**ï¼šRedis 7+ - é«˜æ€§èƒ½å†…å­˜æ•°æ®åº“
- **æ–‡ä»¶å­˜å‚¨**ï¼šMinIO - å…¼å®¹S3çš„å¯¹è±¡å­˜å‚¨
- **è®¤è¯**ï¼šJWT + OAuth2 - å®‰å…¨è®¤è¯ä½“ç³»

#### AIæŠ€æœ¯æ ˆ
- **AIæ¡†æ¶**ï¼šLangGraph 0.3+ - çŠ¶æ€ç®¡ç†çš„AI Agentæ¡†æ¶
- **LLMé›†æˆ**ï¼šLangChain 0.3+ - å¤šæ¨¡å‹é›†æˆæ¡†æ¶
- **æ”¯æŒæ¨¡å‹**ï¼š
  - OpenAI GPT-4/GPT-3.5
  - Anthropic Claude 3
  - é˜¿é‡Œé€šä¹‰åƒé—®
  - è‡ªå®šä¹‰æ¨¡å‹æ¥å…¥
- **å‘é‡æ•°æ®åº“**ï¼šæ”¯æŒå¤šç§å‘é‡å­˜å‚¨æ–¹æ¡ˆ

#### å‰ç«¯æŠ€æœ¯
- **Webç«¯**ï¼šVue 3 + TypeScript + Vite
- **ç§»åŠ¨ç«¯**ï¼šUniApp + Vue 3 (æ”¯æŒå¤šå¹³å°)
- **UIç»„ä»¶**ï¼šElement Plus / Uni-UI
- **çŠ¶æ€ç®¡ç†**ï¼šPinia
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios

#### åŸºç¡€è®¾æ–½
- **å®¹å™¨åŒ–**ï¼šDocker + Docker Compose
- **è¿›ç¨‹ç®¡ç†**ï¼šUvicorn + Gunicorn
- **åå‘ä»£ç†**ï¼šNginx
- **ç›‘æ§**ï¼šPrometheus + Grafana
- **æ—¥å¿—**ï¼šELK Stack

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Node.js 18+
- Docker & Docker Compose
- PostgreSQL 15+
- Redis 7+

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/DietAI.git
cd DietAI
```

#### 2. é…ç½®ç¯å¢ƒå˜é‡
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶
nano .env
```

#### 3. ä½¿ç”¨Docker Composeå¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f dietai-backend
```

#### 4. æœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# 1. å®‰è£…Pythonä¾èµ–ï¼ˆä½¿ç”¨uvï¼‰
uv sync

# 2. å¯åŠ¨æ•°æ®åº“æœåŠ¡
docker-compose up -d postgres redis minio

# 3. åˆå§‹åŒ–æ•°æ®åº“
alembic upgrade head

# 4. å¯åŠ¨åç«¯æœåŠ¡
uvicorn main:app --reload --host 0.0.0.0 --port 8000

# 5. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆå¦å¼€ç»ˆç«¯ï¼‰
cd frontend/web/DietAI_Front_Web
npm install
npm run dev
```

### ğŸ”— æœåŠ¡åœ°å€

å¯åŠ¨æˆåŠŸåï¼Œå¯é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **åç«¯API**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **å‰ç«¯åº”ç”¨**: http://localhost:3000
- **MinIOæ§åˆ¶å°**: http://localhost:9001
- **Redisç®¡ç†**: http://localhost:6379

### ğŸ§ª éªŒè¯å®‰è£…

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# æŸ¥çœ‹APIæ–‡æ¡£
curl http://localhost:8000/docs
```

## ğŸ“š APIæ–‡æ¡£

### è®¤è¯ç›¸å…³

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /api/v1/auth/register
Content-Type: application/json

{
  "username": "user123",
  "email": "user@example.com",
  "password": "password123"
}
```

#### ç”¨æˆ·ç™»å½•
```http
POST /api/v1/auth/login
Content-Type: application/json

{
  "username": "user123",
  "password": "password123"
}
```

### é£Ÿç‰©è®°å½•

#### ä¸Šä¼ é£Ÿç‰©å›¾ç‰‡
```http
POST /api/v1/food/upload
Content-Type: multipart/form-data
Authorization: Bearer <token>

{
  "file": <image_file>,
  "meal_type": 1,
  "description": "æ—©é¤"
}
```

#### è·å–é£Ÿç‰©è®°å½•
```http
GET /api/v1/food/records?date=2024-01-01
Authorization: Bearer <token>
```

### AIå¯¹è¯

#### å‘é€æ¶ˆæ¯
```http
POST /api/v1/conversation/chat
Content-Type: application/json
Authorization: Bearer <token>

{
  "message": "ä»Šå¤©çš„é¥®é£Ÿæ€ä¹ˆæ ·ï¼Ÿ",
  "conversation_id": "uuid-string"
}
```

### å¥åº·æ•°æ®

#### è·å–è¥å…»ç»Ÿè®¡
```http
GET /api/v1/health/nutrition/summary?start_date=2024-01-01&end_date=2024-01-31
Authorization: Bearer <token>
```

### å®Œæ•´APIæ–‡æ¡£

å¯åŠ¨æœåŠ¡åè®¿é—® http://localhost:8000/docs æŸ¥çœ‹å®Œæ•´çš„äº¤äº’å¼APIæ–‡æ¡£ã€‚

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# åº”ç”¨é…ç½®
DIETAI_ENV=development
DIETAI_DEBUG=true
DIETAI_VERSION=0.1.0
DIETAI_SECRET_KEY=your-secret-key-here

# æ•°æ®åº“é…ç½®
DIETAI_DATABASE_URL=postgresql://user:pass@localhost:5432/dietai_db
DIETAI_REDIS_HOST=localhost
DIETAI_REDIS_PORT=6379
DIETAI_REDIS_PASSWORD=

# MinIOé…ç½®
DIETAI_MINIO_ENDPOINT=localhost:9000
DIETAI_MINIO_ACCESS_KEY=minioadmin
DIETAI_MINIO_SECRET_KEY=minioadmin
DIETAI_MINIO_SECURE=false

# AIé…ç½®
DIETAI_OPENAI_API_KEY=your-openai-key
DIETAI_ANTHROPIC_API_KEY=your-anthropic-key
DIETAI_DASHSCOPE_API_KEY=your-dashscope-key

# CORSé…ç½®
DIETAI_CORS_ORIGINS=http://localhost:3000,http://localhost:8080
```

### æ•°æ®åº“è¿ç§»

```bash
# ç”Ÿæˆè¿ç§»æ–‡ä»¶
alembic revision --autogenerate -m "æè¿°å˜æ›´"

# æ‰§è¡Œè¿ç§»
alembic upgrade head

# å›æ»šè¿ç§»
alembic downgrade -1
```

## ğŸš¦ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
DietAI/
â”œâ”€â”€ agent/                    # AI Agentæ¨¡å—
â”‚   â”œâ”€â”€ agent.py             # ä¸»Agenté€»è¾‘
â”‚   â”œâ”€â”€ common_utils/        # é€šç”¨å·¥å…·
â”‚   â””â”€â”€ utils/               # Agentå·¥å…·é›†
â”œâ”€â”€ routers/                 # FastAPIè·¯ç”±
â”‚   â”œâ”€â”€ auth_router.py       # è®¤è¯è·¯ç”±
â”‚   â”œâ”€â”€ user_router.py       # ç”¨æˆ·è·¯ç”±
â”‚   â”œâ”€â”€ food_router.py       # é£Ÿç‰©è·¯ç”±
â”‚   â”œâ”€â”€ health_router.py     # å¥åº·è·¯ç”±
â”‚   â””â”€â”€ conversation_router.py # å¯¹è¯è·¯ç”±
â”œâ”€â”€ shared/                  # å…±äº«æ¨¡å—
â”‚   â”œâ”€â”€ config/             # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ utils/              # é€šç”¨å·¥å…·
â”œâ”€â”€ frontend/               # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ web/                # Webç«¯
â”‚   â””â”€â”€ mobile/             # ç§»åŠ¨ç«¯
â”œâ”€â”€ infrastructure/         # åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ docker/             # Dockeré…ç½®
â”‚   â”œâ”€â”€ k8s/                # Kubernetesé…ç½®
â”‚   â””â”€â”€ monitoring/         # ç›‘æ§é…ç½®
â”œâ”€â”€ docs/                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ main.py                 # åº”ç”¨å…¥å£
â”œâ”€â”€ pyproject.toml          # Pythonä¾èµ–
â””â”€â”€ docker-compose.yml      # Dockerç¼–æ’
```

### ç¼–ç è§„èŒƒ

#### Pythonä»£ç è§„èŒƒ
```python
# ä½¿ç”¨Type Hints
from typing import Optional, List, Dict, Any

async def get_user_profile(user_id: int) -> Optional[Dict[str, Any]]:
    """è·å–ç”¨æˆ·æ¡£æ¡ˆä¿¡æ¯"""
    # å®ç°é€»è¾‘
    pass

# ä½¿ç”¨Pydanticè¿›è¡Œæ•°æ®éªŒè¯
from pydantic import BaseModel, Field

class UserCreateRequest(BaseModel):
    username: str = Field(..., min_length=3, max_length=50)
    email: str = Field(..., regex=r'^[^@]+@[^@]+\.[^@]+$')
    password: str = Field(..., min_length=6)
```

#### é”™è¯¯å¤„ç†
```python
from fastapi import HTTPException, status

async def get_user(user_id: int):
    try:
        user = await user_service.get_by_id(user_id)
        if not user:
            raise HTTPException(
                status_code=status.HTTP_404_NOT_FOUND,
                detail="ç”¨æˆ·ä¸å­˜åœ¨"
            )
        return user
    except Exception as e:
        logger.error(f"è·å–ç”¨æˆ·å¤±è´¥: {e}")
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail="æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
        )
```

### æµ‹è¯•æŒ‡å—

#### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/test_auth.py

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=. --cov-report=html
```

#### æµ‹è¯•ç¤ºä¾‹
```python
import pytest
from fastapi.testclient import TestClient
from main import app

client = TestClient(app)

def test_user_registration():
    response = client.post("/api/v1/auth/register", json={
        "username": "testuser",
        "email": "test@example.com",
        "password": "password123"
    })
    assert response.status_code == 200
    assert response.json()["success"] == True
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–
- åˆç†ä½¿ç”¨ç´¢å¼•
- æ•°æ®åº“è¿æ¥æ± é…ç½®
- æŸ¥è¯¢è¯­å¥ä¼˜åŒ–
- è¯»å†™åˆ†ç¦»

### ç¼“å­˜ç­–ç•¥
- Redisç¼“å­˜çƒ­ç‚¹æ•°æ®
- åº”ç”¨å±‚ç¼“å­˜
- CDNé™æ€èµ„æºåŠ é€Ÿ

### APIæ€§èƒ½
- å¼‚æ­¥å¤„ç†
- æ‰¹é‡æ“ä½œ
- åˆ†é¡µæŸ¥è¯¢
- å“åº”å‹ç¼©

## ğŸ”’ å®‰å…¨è€ƒè™‘

### è®¤è¯å®‰å…¨
- JWT Tokenç®¡ç†
- å¯†ç åŠ å¯†å­˜å‚¨
- ä¼šè¯ç®¡ç†
- å¤šå› ç´ è®¤è¯

### æ•°æ®å®‰å…¨
- æ•°æ®åŠ å¯†ä¼ è¾“
- æ•æ„Ÿæ•°æ®è„±æ•
- è®¿é—®æƒé™æ§åˆ¶
- æ•°æ®å¤‡ä»½ç­–ç•¥

### APIå®‰å…¨
- è¯·æ±‚é™æµ
- å‚æ•°éªŒè¯
- SQLæ³¨å…¥é˜²æŠ¤
- XSSé˜²æŠ¤

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥æ•°æ®åº“æœåŠ¡çŠ¶æ€
docker-compose ps postgres

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker-compose logs postgres

# æµ‹è¯•æ•°æ®åº“è¿æ¥
psql -h localhost -U dietai -d dietai_db
```

#### 2. Redisè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥RedisæœåŠ¡
docker-compose ps redis

# æµ‹è¯•Redisè¿æ¥
redis-cli -h localhost -p 6379 ping
```

#### 3. MinIOè®¿é—®å¤±è´¥
```bash
# æ£€æŸ¥MinIOæœåŠ¡
docker-compose ps minio

# è®¿é—®MinIOæ§åˆ¶å°
open http://localhost:9001
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f dietai-backend

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f postgres
docker-compose logs -f redis
docker-compose logs -f minio
```

## ğŸ“Š ç›‘æ§è¿ç»´

### å¥åº·æ£€æŸ¥
```bash
# åº”ç”¨å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# æ•°æ®åº“å¥åº·æ£€æŸ¥
curl http://localhost:8000/health/db

# æœåŠ¡çŠ¶æ€æ£€æŸ¥
docker-compose ps
```

### æ€§èƒ½ç›‘æ§
- æ¥å£å“åº”æ—¶é—´
- æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
- å†…å­˜ä½¿ç”¨æƒ…å†µ
- CPUè´Ÿè½½ç›‘æ§

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æäº¤ä»£ç 

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/new-feature`)
3. æäº¤ä»£ç  (`git commit -am 'Add new feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/new-feature`)
5. åˆ›å»ºPull Request

### ä»£ç å®¡æŸ¥

- ä»£ç é£æ ¼æ£€æŸ¥
- å•å…ƒæµ‹è¯•è¦†ç›–
- æ€§èƒ½å½±å“è¯„ä¼°
- å®‰å…¨æ€§æ£€æŸ¥

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

- **æ–‡æ¡£**: [é¡¹ç›®Wiki](https://github.com/your-username/DietAI/wiki)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-username/DietAI/issues)
- **è®¨è®ºäº¤æµ**: [GitHub Discussions](https://github.com/your-username/DietAI/discussions)

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

### å·²å®ŒæˆåŠŸèƒ½ âœ…
- [x] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [x] åŸºç¡€æ•°æ®æ¨¡å‹
- [x] é£Ÿç‰©è®°å½•API
- [x] AIå¯¹è¯åŸºç¡€æ¡†æ¶
- [x] Dockeréƒ¨ç½²é…ç½®

### å¼€å‘ä¸­åŠŸèƒ½ ğŸš§
- [ ] å›¾åƒè¯†åˆ«åŠŸèƒ½
- [ ] è¥å…»åˆ†æç®—æ³•
- [ ] ä¸ªæ€§åŒ–æ¨èç³»ç»Ÿ
- [ ] ç§»åŠ¨ç«¯åº”ç”¨

### è®¡åˆ’åŠŸèƒ½ ğŸ“‹
- [ ] ç¤¾åŒºåŠŸèƒ½
- [ ] å¥åº·æŠ¥å‘Šç”Ÿæˆ
- [ ] ç¬¬ä¸‰æ–¹è®¾å¤‡é›†æˆ
- [ ] å¤šè¯­è¨€æ”¯æŒ

---

## ğŸ“ è”ç³»æˆ‘ä»¬

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜æˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- **Email**: support@dietai.com
- **GitHub**: [DietAIé¡¹ç›®](https://github.com/your-username/DietAI)
- **å®˜ç½‘**: https://dietai.com

æ„Ÿè°¢æ‚¨å¯¹DietAIé¡¹ç›®çš„å…³æ³¨å’Œæ”¯æŒï¼ ğŸ™

